<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        #search_div{
            display: grid;
            width: 65%;
            margin-left: 6%;
            grid-template-rows: repeat(1,100%);
            border: 1px solid red;
        }
        #search_div > div{
            gap: 20px;
            border: 1px solid teal;
        }

    </style>
</head>
<body>
    <input type="text" id="query">
    <div id="search_div">
  <div id="search_div_grid"></div>
    </div>
</body>
</html>
<script>

    

// changing krna hai
 //let categories = document.getElementById("categories").children;
  
// for (let el of categories) {
//   el.addEventListener("click", hello);
// }

function hello() {
  searchImages(this.id);
}
   
let search = (e) => {
  if (e.key === "Enter") {
    searchImages();
  }
};

//document.getElementById("query").addEventListener("keydown", search);

const api = "1f46a7379e934737ab1131d6fbc866f5"

let searchImages = async (q) => {
  let query = document.getElementById("query").value;
  if (q) {
    query = q;
  }
  //
  //https://newsapi.org/v2/top-headlines?country=${query}&apiKey=
  let res = await fetch(
    `https://newsapi.org/v2/everything?q=${query}&pageSize=50&apiKey=${api}`
  );

  let data = await res.json();

  console.log(data.articles);

  append(data.articles);
};
searchImages(data.res)

let append = (data) => {
  let container = document.getElementById("search_div");
  container.innerHTML = null;
  data.forEach((el) => {
    
    let heading = document.createElement("div")
    heading.setAttribute("class","search_div_grid")

    //let title = document.createElement("div");
    //title.setAttribute("class","CRYPTO_CORNER_grid")

   // let author = document.createElement("div");
    //author.setAttribute("class","CRYPTO_CORNER_grid")

   // let image = document.createElement("div");
   // image.setAttribute("class","CRYPTO_CORNER_grid")
 
    
    let img = document.createElement("img");
    img.src = el.urlToImage;
    img.setAttribute("class", "image");
  
    let h3 = document.createElement("h3");
    h3.innerText = el.title;
    h3.style.textAlign="center"
    // h3.setAttribute("class","CRYPTO_CORNER_grid")

    let p = document.createElement("p")
    p.innerText=el.content
    //description
    // p.setAttribute("class","CRYPTO_CORNER_grid")

    p.style.textAlign="center"
    p.style.fontSize="16px"

    let p1 = document.createElement("p")
    p1.innerText =el.publishedAt
    p1.style.textAlign="center"
    p1.setAttribute("class","CRYPTO_CORNER_grid")
    
   
    

    heading.append(img,h3,p,)
    // title.append(p)
    // author.append(p1)
    // image.append(img)
    //div.append(img,p1,p);
    container.append( heading);
  });
};
</script>